# ============================================
# KCU Coach Dashboard - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# Required variables are marked with (REQUIRED)
# ============================================

# --------------------------------------------
# Application
# --------------------------------------------

# App URL - your deployed domain (REQUIRED)
NEXT_PUBLIC_APP_URL=https://your-app.railway.app

# Node environment (development | production | test)
NODE_ENV=development

# --------------------------------------------
# Supabase (REQUIRED)
# --------------------------------------------
# Get these from your Supabase project settings

NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# --------------------------------------------
# Discord OAuth (REQUIRED)
# --------------------------------------------
# Create a Discord application at https://discord.com/developers/applications

DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret

# Optional: Override the redirect URI (defaults to APP_URL/api/auth/callback)
# DISCORD_REDIRECT_URI=https://your-app.railway.app/api/auth/callback

# --------------------------------------------
# Session Security (REQUIRED in production)
# --------------------------------------------
# Generate a secure random string (at least 32 characters)
# Example: openssl rand -base64 32

SESSION_SECRET=your-super-secret-session-key-at-least-32-characters

# --------------------------------------------
# Anthropic AI (REQUIRED for AI features)
# --------------------------------------------
# Get your API key from https://console.anthropic.com

ANTHROPIC_API_KEY=sk-ant-your-api-key

# --------------------------------------------
# OpenAI (REQUIRED for RAG/Embeddings)
# --------------------------------------------
# Used for generating text embeddings to make content searchable
# Get your API key from https://platform.openai.com/api-keys

OPENAI_API_KEY=sk-your-openai-api-key

# --------------------------------------------
# YouTube Integration (for Kay Capitals videos)
# --------------------------------------------
# Enables syncing and searching Kay Capitals YouTube content
# Get YouTube API key from Google Cloud Console (enable YouTube Data API v3)

YOUTUBE_API_KEY=your_youtube_api_key

# Kay Capitals YouTube Channel ID
# Find at: youtube.com/channel/UC_XXXX or use https://commentpicker.com/youtube-channel-id.php
KAY_CAPITALS_CHANNEL_ID=UC_your_channel_id

# --------------------------------------------
# Market Data - Massive.com (REQUIRED for Companion Mode)
# --------------------------------------------
# Required for real-time market data and LTP detection

MASSIVE_API_KEY=your_massive_api_key

# --------------------------------------------
# Thinkific Integration (Optional)
# --------------------------------------------
# For syncing course progress from Thinkific LMS
# Get your webhook secret from Thinkific admin settings

# REQUIRED in production - webhooks will be rejected without signature verification
THINKIFIC_WEBHOOK_SECRET=your_thinkific_webhook_secret

# --------------------------------------------
# Scheduled Jobs / Cron (REQUIRED in production)
# --------------------------------------------
# Secret token for authenticating cron job requests (e.g., economic calendar sync)
# Generate: openssl rand -base64 32
# Usage: Authorization: Bearer $CRON_SECRET

CRON_SECRET=your_cron_secret_token

# --------------------------------------------
# Redis (Optional - for production scaling)
# --------------------------------------------
# Required for multi-server deployments and real-time features
# Format: redis://username:password@host:port

# REDIS_URL=redis://default:password@your-redis-host:6379

# --------------------------------------------
# Error Tracking (Optional)
# --------------------------------------------
# Sentry DSN for error tracking in production

# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# --------------------------------------------
# Feature Flags (Internal)
# --------------------------------------------
# These are derived from other variables and set automatically
# - AI features: Enabled when ANTHROPIC_API_KEY is set
# - RAG/Embeddings: Enabled when OPENAI_API_KEY is set
# - YouTube Videos: Enabled when YOUTUBE_API_KEY and KAY_CAPITALS_CHANNEL_ID are set
# - Companion Mode: Enabled when MASSIVE_API_KEY is set
# - Redis: Enabled when REDIS_URL is set
